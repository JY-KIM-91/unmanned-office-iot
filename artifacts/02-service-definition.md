# 서비스 정의서 (Service Definition)
**무인 오피스 출입 통제 시스템**

---

## 문서 목적

이 문서는 시스템의 핵심 사용자 경험을 정의한다.
기술 구현이 아닌, **사용자가 무엇을 하고, 어떻게 느끼는가**에 집중한다.

---

## 1. 핵심 페르소나 흐름

### 페르소나 A: 입주사 김대리 (정규 회원)

**프로필:**
- 스타트업 소속 직장인
- 매일 출근하는 정기 입주자
- 회사 카드키를 소지

#### 시나리오 1: 아침 출근 (08:30)

1. **건물 1층 현관 도착**
   - 현관 문 옆에 있는 단말기에 카드를 갖다 댐
   - "띵" 소리와 함께 초록불 점등
   - 문이 자동으로 열림 (3초간 유지)
   - 화면에 "김대리님, 좋은 아침입니다" 메시지 표시

2. **엘리베이터 타고 5층 사무실로 이동**
   - 5층 복도 문 옆 단말기에 카드 다시 태그
   - 문이 열리면서 복도 조명이 자동으로 켜짐
   - (아직 아무도 출근 안 한 상태라면 전체 조명이 순차적으로 켜짐)

3. **자기 자리로 이동**
   - 자리 구역의 조명이 밝아짐
   - 난방이 설정 온도로 작동 중

**사용자 기대:**
- "카드 하나로 모든 문이 열려야 함"
- "매번 앱을 켜지 않아도 됨"
- "내가 출근하면 불이 알아서 켜져야 함"

---

#### 시나리오 2: 점심 외출 (12:00)

1. **점심 먹으러 외출**
   - 5층 복도 문 통과 시 카드 태그
   - 문이 열림 (태그 이력 자동 기록)

2. **1층 현관 통과**
   - 내부에서 나갈 때는 버튼 누르면 문이 열림
   - (카드 태그 불필요)

3. **점심 후 재입실 (13:00)**
   - 아침과 동일한 방식으로 카드 태그
   - 문 열림

**사용자 기대:**
- "나갈 때는 간단하게, 들어올 때만 인증"
- "점심시간에도 동료들이 있으니 조명은 유지"

---

#### 시나리오 3: 야근 후 퇴근 (23:00)

1. **사무실 퇴실**
   - 마지막으로 나가는 사람이라면:
   - 5층 복도 문 옆 단말기 화면에 "마지막 퇴실자입니다" 알림
   - 선택: "10분 후 자동 소등" 버튼 터치
   - 카드 태그 후 문 통과

2. **1층 현관 퇴실**
   - 내부 버튼 누르고 나가기
   - 문이 닫힌 후 자동 잠금

3. **집에서 확인 (선택 사항)**
   - 휴대폰 앱 열기
   - "오늘 출퇴근 기록" 확인 가능
   - "5층 사무실 현재 상태: 소등됨, 출입 잠금" 표시

**사용자 기대:**
- "마지막 사람이 나가면 자동으로 불 꺼지면 좋겠음"
- "집에서도 내가 문 잠갔는지 확인 가능"
- "혹시 문 안 잠갔으면 앱에서 잠금 버튼 누르기"

---

### 페르소나 B: 방문객 이손님 (일회성 방문자)

**프로필:**
- 입주사와 미팅 예정인 외부인
- 건물 출입 권한 없음
- 스마트폰 소지

#### 시나리오: 초대 받고 방문하기

1. **초대장 수신 (미팅 1일 전)**
   - 카카오톡 또는 이메일로 초대 메시지 도착
   - 내용: "FastFive 강남점 5층 미팅 초대장"
   - 버튼: "방문 등록하기"
   - 버튼 클릭 → 이름, 연락처 입력
   - 등록 완료 시 "QR 코드" 자동 생성 (휴대폰에 저장됨)

2. **건물 도착 (미팅 당일 14:00)**
   - 1층 현관 앞 도착
   - 단말기 화면에 "방문자는 QR 코드를 스캔하세요" 안내문
   - 휴대폰에서 QR 코드 꺼내서 단말기 카메라에 비춤
   - "띵" 소리와 함께 문 열림
   - 화면에 "이손님님, 환영합니다. 5층으로 이동하세요" 메시지

3. **5층 복도 도착**
   - 복도 문 앞 단말기에 다시 QR 코드 스캔
   - 문 열림
   - 화면에 "회의실 B로 이동하세요" 안내

4. **회의실 B 도착**
   - 회의실 문 옆 단말기에 QR 코드 스캔
   - 회의실 문 열림
   - 회의실 조명 자동 점등

5. **미팅 종료 후 퇴실 (16:00)**
   - 내부 버튼 눌러서 문 열고 나가기
   - (QR 코드는 오늘 자정까지 유효, 이후 자동 만료)

**사용자 기대:**
- "카카오톡으로 초대장 받으면 바로 등록 가능"
- "별도 앱 설치 없이 QR만 저장하면 됨"
- "건물 처음 와도 헤매지 않게 안내 메시지"
- "미팅 끝나고 나갈 때는 쉽게"

---

### 페르소나 C: 관리자 박사장 (건물주/운영자)

**프로필:**
- 건물 소유주 또는 공유오피스 운영사 대표
- 60개 지점 전체 관리 권한
- 주로 사무실이 아닌 외부에서 시스템 관리

#### 시나리오 1: 연휴 기간 원격 통제 (설날 연휴)

1. **집에서 관리자 앱 실행 (연휴 전날 저녁)**
   - 앱 메인 화면: "전체 지점 상태 요약"
   - 표시 내용:
     - 강남점: 현재 5명 재실 중
     - 홍대점: 현재 0명
     - 판교점: 현재 2명 재실 중

2. **연휴 모드 설정**
   - "강남점" 선택
   - "운영 스케줄" 메뉴 진입
   - "특별 일정 추가" 버튼 터치
   - 설정:
     - 기간: 2월 9일 ~ 2월 11일 (3일간)
     - 출입: "사전 승인자만 허용"
     - 난방: "자동 꺼짐 (단, 외부 온도 -5도 이하 시 16도 유지)"
     - 조명: "자동 소등 (22:00 이후)"
   - 저장 버튼 터치
   - 확인 메시지: "강남점 연휴 모드가 적용되었습니다"

3. **연휴 중 알림 수신 (2월 10일 오전)**
   - 푸시 알림: "강남점 비정상 출입 시도 감지"
   - 앱 열기 → "알림 센터" 확인
   - 내용: "등록되지 않은 카드로 3회 시도 (09:23)"
   - CCTV 화면 바로 보기 버튼
   - 확인 후 "정상" 또는 "신고" 선택

4. **긴급 상황 대응**
   - "원격 문 열기" 버튼 (비상 시 사용)
   - "전체 조명 켜기" 버튼
   - "비상 모드 활성화" (모든 문 자동 잠금 해제)

**사용자 기대:**
- "사무실 안 가도 모든 지점 한눈에 보임"
- "연휴 전에 미리 설정해두면 자동으로 절전"
- "이상한 일 생기면 바로 알림 옴"
- "급하면 멀리서도 문 열거나 잠글 수 있음"

---

#### 시나리오 2: 신규 입주사 등록 (월초)

1. **관리자 앱에서 "입주사 관리" 메뉴 진입**
   - "새 입주사 추가" 버튼

2. **입주사 정보 입력**
   - 회사명: "스타트업 ABC"
   - 입주 공간: "강남점 5층 Zone-3"
   - 계약 기간: 2026-02-01 ~ 2027-01-31
   - 인원: 8명

3. **출입 카드 발급**
   - "카드 8장 발급" 버튼 터치
   - 선택: "실물 카드" 또는 "모바일 카드(앱)"
   - 실물 카드 선택 시:
     - 카드 번호 입력 화면
     - 카드 리더기에 카드 태그 → 자동 등록
   - 모바일 카드 선택 시:
     - 직원 연락처 입력
     - 카카오톡/SMS로 등록 링크 자동 발송

4. **권한 설정**
   - 출입 가능 구역: "1층 현관, 5층 복도, 5층 Zone-3"
   - 출입 가능 시간: "24시간" 또는 "평일 08:00~22:00"
   - 특수 권한: "회의실 예약 가능" 체크

5. **저장 및 완료**
   - "등록 완료" 확인 메시지
   - 카드 즉시 사용 가능

**사용자 기대:**
- "신규 입주사가 오면 10분 안에 카드 발급"
- "실물 카드든 모바일이든 선택 가능"
- "퇴사자 생기면 카드 바로 비활성화 가능"

---

#### 시나리오 3: 지점별 출입 통계 확인 (월말)

1. **관리자 앱에서 "통계 리포트" 메뉴 진입**
   - 기간 선택: "지난 1개월"
   - 지점 선택: "전체" 또는 "강남점"

2. **통계 화면 표시**
   - **출입 현황:**
     - 일평균 출입 인원: 123명
     - 평균 재실 시간: 8.5시간
     - 가장 바쁜 시간대: 오전 9시~10시

   - **공간 활용률:**
     - 5층 Zone-3: 85% 활용 중
     - 회의실 A: 62% 예약률
     - 회의실 B: 48% 예약률

   - **에너지 절감:**
     - 자동 소등으로 전력 사용 22% 감소
     - 예상 절감 비용: 월 38만원

3. **이상 징후 확인**
   - "심야 출입 기록" 섹션
     - 2월 15일 03:00 김대리 출입 (빨간색 표시)
     - 클릭 → CCTV 영상 확인 가능

4. **보고서 내보내기**
   - "PDF 저장" 또는 "엑셀 다운로드" 버튼
   - 이메일로 전송 가능

**사용자 기대:**
- "매달 말에 통계 보면서 운영 점검"
- "어느 공간이 잘 쓰이는지 한눈에 파악"
- "의심스러운 출입 기록 바로 확인"
- "보고서 만들기 쉬움 (대표님께 보고용)"

---

## 2. 필요 기능 목록 (Feature List)

### A. 사용자 앱 기능 (입주사/방문자용)

#### 출입 관련
- [ ] **카드 등록하기**: 실물 카드 번호를 앱에 연동
- [ ] **모바일 카드 사용**: 카드 없이 휴대폰으로 문 열기
- [ ] **QR 코드 발급**: 방문자 초대 시 QR 생성
- [ ] **출입 이력 확인**: 내가 언제 출근/퇴근했는지 기록 보기
- [ ] **문 열림 상태 확인**: 지금 우리 사무실 문이 잠겨있는지 보기

#### 공간 예약
- [ ] **회의실 예약**: 날짜/시간 선택해서 회의실 예약
- [ ] **예약 취소/변경**: 내 예약 수정하기
- [ ] **예약 알림**: 회의 10분 전 푸시 알림

#### 환경 제어
- [ ] **조명 켜기/끄기**: 퇴근할 때 앱에서 불 끄기
- [ ] **온도 조절**: 출근 전에 미리 난방 켜두기
- [ ] **절전 모드**: 장기 부재 시 자동 절전 설정

#### 방문자 관리
- [ ] **손님 초대하기**: 방문자 이름, 방문 날짜 입력 → QR 발송
- [ ] **초대 취소**: 미팅 취소 시 QR 비활성화

---

### B. 관리자 앱 기능 (운영자/건물주용)

#### 입주사 관리
- [ ] **입주사 등록**: 회사 정보, 계약 기간, 인원 입력
- [ ] **카드 발급**: 실물 카드 또는 모바일 카드 발급
- [ ] **카드 비활성화**: 퇴사자 카드 즉시 무효화
- [ ] **권한 설정**: 출입 가능 구역, 시간 설정
- [ ] **입주사 목록 보기**: 현재 입주 중인 회사 리스트

#### 지점 관리
- [ ] **전체 지점 상태 보기**: 한 화면에 60개 지점 요약
- [ ] **지점별 재실 인원 확인**: 실시간으로 몇 명 있는지 표시
- [ ] **문 잠금/열림 제어**: 원격으로 특정 문 열기/잠그기
- [ ] **비상 모드**: 화재/재난 시 모든 문 자동 열림

#### 스케줄 관리
- [ ] **운영 시간 설정**: 평일 몇 시부터 몇 시까지 운영
- [ ] **연휴 모드**: 특정 기간 출입 제한 + 절전 모드
- [ ] **자동 소등 시간 설정**: 밤 11시 이후 자동 소등
- [ ] **난방 스케줄**: 계절별 온도 자동 조절

#### 통계 및 리포트
- [ ] **출입 통계**: 일/주/월 단위 출입 인원 그래프
- [ ] **공간 활용률**: 구역별/회의실별 사용 빈도
- [ ] **에너지 절감 리포트**: 자동화로 인한 전력 절감량
- [ ] **이상 출입 감지**: 심야 출입, 미등록 카드 시도 알림
- [ ] **보고서 내보내기**: PDF/Excel 형식으로 저장

#### 알림 및 모니터링
- [ ] **실시간 알림**: 비정상 출입 시도 시 푸시 알림
- [ ] **CCTV 연동**: 알림 받으면 바로 영상 확인
- [ ] **장치 상태 모니터링**: 단말기 고장 시 알림
- [ ] **배터리 부족 경고**: 무선 장치 배터리 20% 이하 시 알림

---

### C. 하드웨어 (단말기/센서) 기능

#### 출입 단말기 (각 문마다 설치)
- [ ] **카드 인식**: RFID/NFC 카드를 갖다 대면 읽기
- [ ] **QR 코드 스캔**: 카메라로 QR 코드 인식
- [ ] **화면 표시**: "문이 열렸습니다", "권한이 없습니다" 등 메시지 표시
- [ ] **소리 알림**: "띵" (성공), "삐삐삐" (실패) 소리
- [ ] **LED 표시등**: 초록불 (열림), 빨간불 (잠김)
- [ ] **내부 버튼**: 나갈 때는 버튼만 누르면 문 열림
- [ ] **비상 해제**: 화재 경보 울리면 자동으로 문 열림

#### 센서 장치
- [ ] **재실 감지 센서**: 사람이 있는지 없는지 감지
- [ ] **조도 센서**: 밝기 측정해서 낮에는 조명 꺼짐
- [ ] **온도 센서**: 실내 온도 측정
- [ ] **문 열림 센서**: 문이 열려있는지 닫혀있는지 감지

#### 조명 제어
- [ ] **자동 점등**: 사람 감지되면 불 켜짐
- [ ] **자동 소등**: 30분간 사람 없으면 불 꺼짐
- [ ] **구역별 제어**: 5층 전체가 아닌 Zone 단위로 제어
- [ ] **수동 스위치**: 단말기 화면에서 불 켜기/끄기 버튼

#### 온도 제어
- [ ] **자동 난방**: 출근 시간 30분 전 미리 난방 시작
- [ ] **자동 냉방**: 여름철 자동 온도 조절
- [ ] **절전 모드**: 주말/연휴에는 최소 온도 유지
- [ ] **구역별 제어**: 사용 중인 공간만 난방/냉방

---

### D. 공통 요구사항 (모든 기능에 적용)

#### 사용성
- [ ] **간단한 조작**: 버튼 3번 이내로 원하는 기능 실행
- [ ] **빠른 반응**: 카드 태그 후 1초 이내 문 열림
- [ ] **명확한 피드백**: 소리 + 불빛 + 화면 메시지로 결과 알림
- [ ] **초보자 친화**: 처음 사용자도 설명 없이 사용 가능

#### 안정성
- [ ] **오프라인 동작**: 인터넷 끊겨도 카드로 문 열림
- [ ] **백업 인증**: 카드 안 되면 비밀번호 입력 가능
- [ ] **비상 대응**: 화재/정전 시 모든 문 자동 열림
- [ ] **배터리 백업**: 정전 시에도 4시간 이상 동작

#### 보안
- [ ] **암호화 통신**: 카드 정보가 해킹 안 됨
- [ ] **접근 로그**: 누가 언제 어디를 열었는지 모두 기록
- [ ] **권한 관리**: 일반 사용자는 자기 구역만 접근
- [ ] **비상 해제 기록**: 관리자가 원격으로 문 열면 기록 남김

---

## 3. 핵심 사용자 경험 원칙

### 원칙 1: "생각 없이 열린다"
사용자는 카드를 갖다 대기만 하면 된다.
앱을 켜거나, 비밀번호를 누르거나, 설정을 바꿀 필요가 없다.

### 원칙 2: "혼자 알아서 한다"
사람이 없으면 불이 꺼지고, 사람이 오면 불이 켜진다.
사용자가 매번 스위치를 누를 필요가 없다.

### 원칙 3: "멀리서도 제어된다"
관리자는 사무실에 없어도 모든 것을 볼 수 있고 조작할 수 있다.
긴급 상황에 즉시 대응 가능하다.

### 원칙 4: "안전이 최우선이다"
화재나 정전 같은 비상 상황에는 모든 문이 자동으로 열린다.
시스템 고장이 사람을 가두지 않는다.

### 원칙 5: "간단하고 빠르다"
복잡한 메뉴나 설정이 없다.
카드 태그는 1초, 앱 조작은 3탭 이내.

---

## 4. 제외 사항 (Out of Scope)

이 시스템에서 다루지 **않는** 것들:

- ❌ 얼굴 인식 (비용과 개인정보 이슈로 제외)
- ❌ 음성 제어 (초기 버전에서는 제외)
- ❌ 로봇 자동화 (물리적 로봇은 범위 밖)
- ❌ 주차장 제어 (건물 출입만 다룸)
- ❌ 엘리베이터 호출 (기존 엘리베이터 시스템 연동 어려움)

---

## 5. 다음 단계

이 서비스 정의서를 바탕으로:

1. **IoT Agent**: 하드웨어 사양서 작성 (단말기, 센서 선정)
2. **Backend Agent**: 필요한 데이터 구조 설계 (사용자, 권한, 로그)
3. **Frontend Agent**: 앱 화면 목록 정리 (와이어프레임 준비)
4. **Architecture Agent**: 전체 시스템 구성도 작성

---

**문서 작성일**: 2026-02-17
**작성자**: PM Agent
**검토 필요**: Business Agent, 창업자
**다음 업데이트**: 피드백 반영 후 v2 작성
